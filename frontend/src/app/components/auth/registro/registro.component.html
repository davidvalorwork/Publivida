<!-- <div class="container">
	<div class="d-flex justify-content-center h-100">
		<div class="card">
			<p style="color:#2e7de8; text-align:center" class="mt-4">¿Como desea registrarse?</p>
			<div class="row mt-4 mb-4">
				<div class="col-6 text-right">
					<button class="btn btn-secondary" style="
						background-color: #81b4fa;
						border: #81b4fa;
						color:black
					"
					(click)="TipoRegistro = 1">
					<i class="fa fa-user"></i>
						Persona</button>
				</div>
				<div class="col-6 text-left">
					<button class="btn btn-secondary" style="
						background-color: #81b4fa;
						border: #81b4fa;
						color:black
					"
					(click)="TipoRegistro = 2">
					<i class="fa fa-users"></i>
						Empresa</button>
				</div>
			</div>
			<div class="card-body " *ngIf="TipoRegistro === 1">
				<form [formGroup]="usuariosForm" class="row" (ngSubmit)="registrarUsuario(usuariosForm.value)">
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-user"></i></span>
							</div>
							<input class="form-control" formControlName="usuario" type="text" placeholder="Nombre de usuario">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('usuario').hasError('required') 
												&& usuariosForm.get('usuario').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-envelope"></i></span>
							</div>
							<input class="form-control" formControlName="correo" type="text" placeholder="Correo">
						</div>
						<div>
							<div *ngIf="usuariosForm.get('correo').invalid && (usuariosForm.get('correo').dirty || usuariosForm.get('correo').touched)">
								<mat-error *ngIf="usuariosForm.get('correo').hasError('required')
								&& usuariosForm.get('correo').dirty"
								class="error">Este campo es requerido</mat-error>
								<mat-error *ngIf="!usuariosForm.get('correo').hasError('required')"
								class="error">Este correo es invalido</mat-error>
							</div>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-signature"></i></span>
							</div>
							<input class="form-control" formControlName="nombres" type="text" placeholder="Nombres">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('nombres').hasError('required')
							&& usuariosForm.get('nombres').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-signature"></i></span>
							</div>
							<input class="form-control" formControlName="apellidos" type="text" placeholder="Apellidos">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('apellidos').hasError('required')
							&& usuariosForm.get('apellidos').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-address-card"></i></span>
							</div>
							<input class="form-control" formControlName="rut" type="text" placeholder="Rut">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('rut').hasError('required')
							&& usuariosForm.get('rut').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-phone"></i></span>
							</div>
							<input class="form-control" formControlName="telefono" type="number"  placeholder="Teléfono">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('telefono').hasError('required')
							&& usuariosForm.get('telefono').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							<input class="form-control" 
							minlength="8" formControlName="clave" type="password" placeholder="Clave">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('clave').hasError('required')
							&& usuariosForm.get('clave').dirty"
							class="error">Este campo es requerido</mat-error>
							<mat-error *ngIf="usuariosForm.get('clave').hasError('minlength')
							"
							class="error">Logitud minima 8 caracteres</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							<input class="form-control" formControlName="rclave" type="password" placeholder="Repita la clave">
						</div>
						<div>
							<mat-error *ngIf="usuariosForm.get('rclave').hasError('required')
							&& usuariosForm.get('rclave').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="text-center col-12 mt-2">
						<mat-error *ngIf="usuarioClaveInvalida"
								class="error ">Las claves no coiciden.</mat-error>
					</div>

					<div class="form-group col-12 mt-4">
						<input type="submit" value="Registrarse" class="btn float-right login_btn"
						[disabled]="usuariosForm.status !== 'VALID'
						&& submit === false">
					</div>
				</form>
			</div>
			<div class="card-body" *ngIf="TipoRegistro === 2">
				<form [formGroup]="empresasForm" class="row" (ngSubmit)="registrarEmpresa(empresasForm.value)">
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-user"></i></span>
							</div>
							<input class="form-control" formControlName="usuario" type="text" placeholder="Nombre de usuario">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('usuario').hasError('required') 
												&& empresasForm.get('usuario').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-envelope"></i></span>
							</div>
							<input class="form-control" formControlName="correo" type="text" placeholder="Correo">
						</div>
						<div>
							<div *ngIf="empresasForm.get('correo').invalid && (empresasForm.get('correo').dirty || empresasForm.get('correo').touched)">
								<mat-error *ngIf="empresasForm.get('correo').hasError('required')
								&& empresasForm.get('correo').dirty"
								class="error">Este campo es requerido</mat-error>
								<mat-error *ngIf="!empresasForm.get('correo').hasError('required')"
								class="error">Este correo es invalido</mat-error>
							</div>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-signature"></i></span>
							</div>
							<input class="form-control" formControlName="razon_social" type="text" placeholder="Razón Social">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('razon_social').hasError('required')
							&& empresasForm.get('razon_social').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-signature"></i></span>
							</div>
							<input class="form-control" formControlName="nombre_fantasia" type="text" 
								placeholder="Nombre Fantasia">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('nombre_fantasia').hasError('required')
							&& empresasForm.get('nombre_fantasia').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-address-card"></i></span>
							</div>
							<input class="form-control" formControlName="rut" type="text" placeholder="Rut">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('rut').hasError('required')
							&& empresasForm.get('rut').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-phone"></i></span>
							</div>
							<input class="form-control" formControlName="telefono" type="number" placeholder="Teléfono">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('telefono').hasError('required')
							&& empresasForm.get('telefono').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-12">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-address-book"></i></span>
							</div>
							<input class="form-control" formControlName="giro" type="text" placeholder="Giro">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('giro').hasError('required')
							&& empresasForm.get('giro').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							<input class="form-control" 
								minlength="8" formControlName="clave" type="password" placeholder="Clave">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('clave').hasError('required')
							&& empresasForm.get('clave').dirty"
							class="error">Este campo es requerido</mat-error>
							<mat-error *ngIf="empresasForm.get('clave').hasError('minlength')
							"
							class="error">Logitud minima 8 caracteres</mat-error>
						</div>
					</div>
					<div class="form-control-group col-6">
						<div class="input-group form-group">
							<div class="input-group-prepend">
								<span class="input-group-text"><i class="fas fa-key"></i></span>
							</div>
							<input class="form-control" formControlName="rclave" type="password" placeholder="Repita la clave">
						</div>
						<div>
							<mat-error *ngIf="empresasForm.get('rclave').hasError('required')
							&& empresasForm.get('rclave').dirty"
							class="error">Este campo es requerido</mat-error>
						</div>
					</div>
					
					<div class="text-center col-12 mt-2">
						<mat-error *ngIf="empresaClaveInvalida"
							class="error">Las claves no coiciden.</mat-error>
					</div>
					
					<div class="form-group col-12 mt-4">
						<input type="submit" value="Registrarse" class="btn float-right login_btn" 
							[disabled]="empresasForm.status !== 'VALID'
							&& submit === false">
					</div>
				</form>
			</div>
			<div class="card-footer">
				<div class="d-flex justify-content-center links">
					¿Tienes cuenta?<a [routerLink]="['../login']" routerLinkActive="router-link-active" >Ingresa</a>
				</div>
			</div>
		</div>
	</div>
</div> -->


<!-- 
<mat-toolbar color="primary" class="app-header">
  <div><a href="#" target="_blank"><img src="assets/images/kamila.png"></a></div>
  <span class="nav-tool-items">      
    <a mat-button mat-raised-button routerLink="/login" >Inicio</a>
  </span>
</mat-toolbar>
<div class="login-wrapper flex-container"  fxLayout="column" fxLayoutAlign="center center">
  <mat-card class="box" fxFlex>
    <mat-card-header>
      <mat-card-title-group>          
        <img mat-card-image src="assets/images/kamila.png"><br>             
        <mat-card-title>Registro</mat-card-title>
      </mat-card-title-group>
    </mat-card-header>
    
    <form class="form" [formGroup]="form">      
      <mat-card-content class="flex-container" fxLayoutAlign="center center" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="10px">                    
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput placeholder="Nombre" formControlName="nombre">          
                </mat-form-field>
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput placeholder="Apellido" formControlName="apellido">          
                </mat-form-field>            
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput placeholder="Correo" formControlName="correo">          
                </mat-form-field>
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput placeholder="Telefono" formControlName="telefono">          
                </mat-form-field>                    
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput [type]="hide ? 'password' : 'text'" placeholder="Password" formControlName="clave">
                  <button  type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar password'" [attr.aria-pressed]="hide">
                  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                </mat-form-field>
                <mat-form-field class="example-full-width" fxFlex="45%">
                  <input matInput [type]="hide ? 'password' : 'text'" placeholder="Repetir Password" formControlName="rclave">
                  <button  type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar password'" [attr.aria-pressed]="hide">
                  <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                </mat-form-field>                        
      </mat-card-content>
      <button  mat-raised-button color="primary" class="btn-block"
        (click)="register(form.value)">Registrar</button>
    </form>    
    
  </mat-card>

</div> -->




<div class="container text-center">

	<div class="card o-hidden border-0 shadow-lg my-1">
		<div class="card-body p-0">
			<div class="row">
				<div class="col-lg-5 d-none d-lg-block bg-login-image"></div>
				<div class="col-lg-7">
					<div class="p-5">
						<div class="text-center">
							<h1 class="h4 text-gray-900 mb-4">Crear Cuenta</h1>
						</div>
						<mat-slide-toggle (change)="empresaToggle()">Empresa</mat-slide-toggle>
						<form [formGroup]="form" class="mt-3" >
							<div class="form-group row text-center">
								<div class="col-12">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Nombre de Usuario</mat-label>
										<mat-icon matSuffix>account_circle</mat-icon>
										<input type="text" matInput
											formControlName="usuario" type="text" >
										<mat-error *ngIf="form.get('usuario').hasError('required') 
																&& form.get('usuario').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('usuario').hasError('pattern') 
																&& form.get('usuario').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-sm-6 mb-3 mb-sm-0">
									<mat-form-field appearance="outline" style="width: 100%;"  *ngIf="!empresa">
										<mat-label>Nombre</mat-label>
										<mat-icon matSuffix>account_circle</mat-icon>
										<input type="text" matInput
											formControlName="nombre" type="text" >
										<mat-error *ngIf="form.get('nombre').hasError('required') 
																&& form.get('nombre').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('nombre').hasError('pattern') 
																&& form.get('nombre').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>

									<mat-form-field appearance="outline" style="width: 100%;"  *ngIf="empresa">
										<mat-label>Giro</mat-label>
										<mat-icon matSuffix>store</mat-icon>
										<input type="text" matInput
											formControlName="giro" type="text" >
										<mat-error *ngIf="form.get('giro').hasError('required') 
																&& form.get('giro').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('giro').hasError('pattern') 
																&& form.get('giro').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>
								</div>
							
								<div class="col-sm-6">
									<mat-form-field appearance="outline" style="width: 100%;" *ngIf="!empresa">
										<mat-label>Apellido</mat-label>
										<mat-icon matSuffix>account_circle</mat-icon>
										<input type="text" matInput
											formControlName="apellido" type="text" >
										<mat-error *ngIf="form.get('apellido').hasError('required') 
																&& form.get('apellido').dirty"
											class="error-form">Este campo es requerido</mat-error>
											<mat-error *ngIf="form.get('apellido').hasError('pattern') 
																&& form.get('apellido').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>

									<mat-form-field appearance="outline" style="width: 100%;" *ngIf="empresa">
										<mat-label>Razón Social</mat-label>
										<mat-icon matSuffix>store</mat-icon>
										<input type="text" matInput
											formControlName="razon_social" type="text" >
										<mat-error *ngIf="form.get('razon_social').hasError('required') 
																&& form.get('razon_social').dirty"
											class="error-form">Este campo es requerido</mat-error>
											<mat-error *ngIf="form.get('razon_social').hasError('pattern') 
																&& form.get('razon_social').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-12">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Rut</mat-label>
										<mat-icon matSuffix>account_circle</mat-icon>
										<input type="text" matInput
											formControlName="rut" type="text" >
										<mat-error *ngIf="form.get('rut').hasError('required') 
																&& form.get('rut').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('rut').hasError('pattern') 
																&& form.get('rut').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-12">
									<mat-form-field appearance="outline" style="width: 100%;" *ngIf="empresa">
										<mat-label>Nombre de fantasia</mat-label>
										<mat-icon matSuffix>storefront</mat-icon>
										<input type="text" matInput
											formControlName="nombre_fantasia" type="text" >
										<mat-error *ngIf="form.get('nombre_fantasia').hasError('required') 
																&& form.get('nombre_fantasia').dirty"
											class="error-form">Este campo es requerido</mat-error>
											<mat-error *ngIf="form.get('nombre_fantasia').hasError('pattern') 
																&& form.get('nombre_fantasia').dirty"
											class="error-form">El nombre es invalido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-6">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Correo</mat-label>
										<mat-icon matSuffix>contact_mail</mat-icon>
										
										<input type="email" matInput
											formControlName="correo" type="text" >
										<mat-error *ngIf="form.get('correo').hasError('required') 
																&& form.get('correo').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('correo').hasError('email') 
																&& form.get('correo').dirty"
											class="error-form">El correo es invalido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-6">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Teléfono</mat-label>
										<mat-icon matSuffix>stay_current_portrait</mat-icon>
										<input type="email" matInput (keypress)="phoneInput($event)"
											formControlName="telefono" type="text" >
										<mat-error *ngIf="form.get('telefono').hasError('required') 
																&& form.get('telefono').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('telefono').hasError('pattern') 
																&& form.get('telefono').dirty"
											class="error-form">El Teléfono no es valido</mat-error>
									</mat-form-field>
								</div>
							</div>
							<div class="form-group row">
								<div class="col-sm-6 mb-3 mb-sm-0">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Clave</mat-label>
										<input matInput [type]="hide ? 'password' : 'text'"
											formControlName="clave" type="password" >
											<button  type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar password'" [attr.aria-pressed]="hide">
												<mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
											</button>
										<mat-error *ngIf="form.get('clave').hasError('required') 
																&& form.get('clave').dirty"
											class="error-form">Este campo es requerido</mat-error>
										<mat-error *ngIf="form.get('clave').hasError('minlength') 
																&& form.get('clave').dirty"
											class="error-form">La clave debe contener minimo 8 caracteres</mat-error>
									</mat-form-field>
								</div>
								<div class="col-sm-6">
									<mat-form-field appearance="outline" style="width: 100%;">
										<mat-label>Repita la Clave</mat-label>
										<input  matInput [type]="hide ? 'password' : 'text'"
											formControlName="rclave">
											<button  type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar password'" [attr.aria-pressed]="hide">
												<mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
											</button>
										<mat-error *ngIf="form.get('rclave').hasError('required') 
																&& form.get('rclave').dirty"
											class="error-form">Este campo es requerido</mat-error>
									</mat-form-field>
								</div>
								<div class="col-12">
									<mat-select-country appearance="outline" country="Venezuela" itemsLoadSize="5"
									onCountrySelected="country(Country)">
									</mat-select-country>
								</div>
							</div>
							<button  class="btn btn-primary btn-user btn-block"
							[disabled]="form.status !== 'VALID' || submit === true "
							(click)="registrarUsuario(form.value)">
								Registar Cuenta
							</button>
						</form>
						<hr>
						<div class="text-center">
							<a class="small" [routerLink]="['/login']">¿Tienes una cuenta? Inicia Sesión!</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
